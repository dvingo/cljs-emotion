{"version":3,"sources":["com/fulcrologic/fulcro/inspect/transit.cljs"],"mappings":";AAMA,AAAA;;;;;;AAAA,AAAA,CAAA,AAAA,oEAAA,pEAASI,+EAEIG;;AAFb,AAAA,YAAA,RAEQD;AAFR,AAAA;;;AAAA,CAAA,AAAA,oEAAA,pEAASF,+EAGIG;;AAHb,AAAA,YAAA,RAGQD;AAHR,AAAA,0FAGiB,AAACE,qBAAWD,GAAG,AAACE,kBAAQF;;;AAHzC,CAAA,AAAA,0EAAA,1EAASH,qFAIUG;;AAJnB,AAAA,YAAA,RAIcD;AAJd,AAIsB,OAACE,qBAAWD;;;AAJlC,CAAA,+DAAA,/DAASH;AAAT,AAAA,AAAA;;;AAAA,CAAA,qEAAA,rEAASA;;AAAT,CAAA,wEAAA,xEAASA;;AAAT,CAAA,6EAAA,WAAAJ,mBAAAC,qBAAAC,hIAASE;AAAT,AAAA,OAAAD,iBAAAF,qBAAA;;;AAAA;;;2DAAA,3DAASI;AAAT,AAAA,YAAAD;;;AAASA,AAMT,AAAA;;;;;;AAAA,AAAA,CAAA,AAAA,sEAAA,tEAASM,iFAEIH;;AAFb,AAAA,YAAA,RAEQD;AAFR,AAAA;;;AAAA,CAAA,AAAA,sEAAA,tEAASI,iFAGIH;;AAHb,AAAA,YAAA,RAGQD;AAHR,AAGgB,IAAA,AACE,mDAAKC;gBADP,QAAAK,JAEkBC;AAFlB,AAGI,oBAAMC;AAAN,AACE,AAAAC,0DAAAC,mCAAA,qDAAA,yCAAA,KAAA,GAAA,8CAAA,qDAAA,KAAAC,gBAAA;AAAA,AAAA,0FAAA;GAAA,OAAA,KAAA,WAAA;;AADF;;AAHJ;;;AAHhB,CAAA,iEAAA,jEAASP;AAAT,AAAA,AAAA;;;AAAA,CAAA,uEAAA,vEAASA;;AAAT,CAAA,0EAAA,1EAASA;;AAAT,CAAA,+EAAA,WAAAV,mBAAAC,qBAAAC,lIAASQ;AAAT,AAAA,OAAAP,iBAAAF,qBAAA;;;AAAA;;;6DAAA,7DAASU;AAAT,AAAA,YAAAD;;;AAASA,AAUT,wDAAA,xDAAMQ;AAAN,AACE,8GAAA,oIAAA,3OAACC,uJAAOC,wBAAwB,KAAAhB,iEACA,KAAAM,2DAC9B,AAACW;;AAEL,uDAAA,vDAAMC;AAAN,AACE,8GAAA,2CAAA,lJAACH,6JACa,WAAAI;AAAA,AAAA,IAAAC,aAAAD;UAAA,AAAAE,4CAAAD,WAAA,IAAA,jEAAME;WAAN,AAAAD,4CAAAD,WAAA,IAAA,lEAAUG;AAAV,AAAiB,OAACC,gDAAQF,IAAIC;WAC1C,AAACE;;AAEL,8CAAA,9CAAMC,oGAAMC;AAAZ,AACE,IAAMC,SAAO,+EAAA,2CAAA,1HAACC,qLAAqB,AAACX;AAApC,AACE,OAACY,uBAAOF,OAAOD;;AAEnB,+CAAA,/CAAMI,sGAAOC;AAAb,AACE,IAAMC,SAAO,+EAAA,2CAAA,1HAACC,qLAAqB,AAACpB;AAApC,AACE,OAACqB,wBAAQF,OAAOD;;AAEpB,AAAA,CAAA,AAAA,8DAAAI,9DAAaC","names":["this__4491__auto__","writer__4492__auto__","opt__4493__auto__","cljs.core/-write","com.fulcrologic.fulcro.inspect.transit/ErrorHandler","com.fulcrologic.fulcro.inspect.transit/->ErrorHandler","this","v","cljs.core/ex-message","cljs.core/ex-data","com.fulcrologic.fulcro.inspect.transit/DefaultHandler","com.fulcrologic.fulcro.inspect.transit/->DefaultHandler","e48930","e","js/goog.DEBUG","taoensso.timbre._log_BANG_","taoensso.timbre/*config*","cljs.core/Delay","com.fulcrologic.fulcro.inspect.transit/write-handlers","cljs.core.merge","cljs.core/ExceptionInfo","com.fulcrologic.fulcro.algorithms.transit/write-handlers","com.fulcrologic.fulcro.inspect.transit/read-handlers","p__48938","vec__48940","cljs.core.nth","msg","data","cljs.core.ex_info","com.fulcrologic.fulcro.algorithms.transit/read-handlers","com.fulcrologic.fulcro.inspect.transit/read","str","reader","com.fulcrologic.fulcro.algorithms.transit.reader","cognitect.transit/read","com.fulcrologic.fulcro.inspect.transit/write","x","writer","com.fulcrologic.fulcro.algorithms.transit.writer","cognitect.transit/write","cljs.core/PROTOCOL_SENTINEL","com.cognitect.transit.types/UUID"],"sourcesContent":["(ns ^:no-doc com.fulcrologic.fulcro.inspect.transit\n  (:require [cognitect.transit :as t]\n            [com.cognitect.transit.types :as ty]\n            [com.fulcrologic.fulcro.algorithms.transit :as ft]\n            [taoensso.timbre :as log]))\n\n(deftype ErrorHandler []\n  Object\n  (tag [this v] \"js-error\")\n  (rep [this v] [(ex-message v) (ex-data v)])\n  (stringRep [this v] (ex-message v)))\n\n(deftype DefaultHandler []\n  Object\n  (tag [this v] \"unknown\")\n  (rep [this v] (try\n                  (str v)\n                  (catch :default e\n                    (when goog.DEBUG\n                      (log/warn \"Transit was unable to encode a value. See https://book.fulcrologic.com/#warn-transit-encode-failed\"))\n                    \"UNENCODED VALUE\"))))\n\n(defn write-handlers []\n  (merge {cljs.core/ExceptionInfo (ErrorHandler.)\n          \"default\"               (DefaultHandler.)}\n    (ft/write-handlers)))\n\n(defn read-handlers []\n  (merge\n    {\"js-error\" (fn [[msg data]] (ex-info msg data))}\n    (ft/read-handlers)))\n\n(defn read [str]\n  (let [reader (ft/reader {:handlers (read-handlers)})]\n    (t/read reader str)))\n\n(defn write [x]\n  (let [writer (ft/writer {:handlers (write-handlers)})]\n    (t/write writer x)))\n\n(extend-type ty/UUID IUUID)\n"]}